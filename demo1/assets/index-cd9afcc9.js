import{u as F,a as z,H as G}from"./index-f691129a.js";import{k as d,l as p,m as e,t as j,a5 as U,j as T,r as w,h as A,p as a,q as O,y as h,A as L,a0 as H,a6 as q,U as x,a1 as R,a2 as M,D as N,B as P,I as i,S as I,x as y,R as C}from"./index-7029ae26.js";import{_ as B,u as Z,b as W,c as Y}from"./_plugin-vue_export-helper-0b35dc09.js";import{E as J}from"./el-scrollbar-a524fda2.js";import"./dayjs.min-6639ab57.js";import"./plugin-vue_export-helper-1acb8806.js";var c=(t=>(t.blue="#08ACFF",t.lightBlue="#07BDED",t.green="#1BD188",t.lightGreen="#18DEA0",t.orange="#FF8D05",t.ching="#0ED0C7",t.yellow="#EDCE22",t))(c||{});const K={},Q={class:"title-border flex"},X=U('<svg class="absolute left-0 bottom-0" xmlns="http://www.w3.org/2000/svg" width="161" height="21" data-v-e624cbad><defs data-v-e624cbad><linearGradient id="title_border" x1="0%" x2="100%" y1="0%" y2="0%" data-v-e624cbad><stop offset="0%" stop-color="#2AC9F3" stop-opacity=".294" data-v-e624cbad></stop><stop offset="100%" stop-color="#2CD4FF" data-v-e624cbad></stop></linearGradient></defs><g fill="none" fill-rule="evenodd" data-v-e624cbad><path fill="url(#title_border)" d="M28 21h138 v-3 h-138z" data-v-e624cbad></path><path fill="#2CD4FF" d="m5.057 0 10.238 10.237L5.531 20H.351l9.858-9.857L.067 0h4.99Zm9.77 0 10.238 10.237L15.301 20h-5.18l9.858-9.857L9.837 0h4.99Zm9.77 0 10.238 10.237L25.072 20h-5.18l9.857-9.856L19.607 0h4.99Z" data-v-e624cbad></path></g></svg>',1),ee={class:"title-content"};function te(t,r){return d(),p("div",Q,[X,e("div",ee,[j(t.$slots,"default",{},void 0,!0)])])}const E=B(K,[["render",te],["__scopeId","data-v-e624cbad"]]),$=t=>(R("data-v-f8893dc2"),t=t(),M(),t),le=["width","height"],ae=["id"],se=$(()=>e("feMorphology",{radius:"6",in:"SourceAlpha",result:"shadowSpreadInner1"},null,-1)),oe=$(()=>e("feGaussianBlur",{stdDeviation:"8",in:"shadowSpreadInner1",result:"shadowBlurInner1"},null,-1)),ie=$(()=>e("feOffset",{in:"shadowBlurInner1",result:"shadowOffsetInner1"},null,-1)),ne=$(()=>e("feComposite",{in:"shadowOffsetInner1",in2:"SourceAlpha",operator:"arithmetic",k2:"-1",k3:"1",result:"shadowInnerInner1"},null,-1)),de=["values"],re=["id"],ce=$(()=>e("feMorphology",{radius:"2",in:"SourceAlpha",result:"shadowSpreadInner1"},null,-1)),he=$(()=>e("feGaussianBlur",{stdDeviation:"20",in:"shadowSpreadInner1",result:"shadowBlurInner1"},null,-1)),ue=$(()=>e("feOffset",{in:"shadowBlurInner1",result:"shadowOffsetInner1"},null,-1)),fe=$(()=>e("feComposite",{in:"shadowOffsetInner1",in2:"SourceAlpha",operator:"arithmetic",k2:"-1",k3:"1",result:"shadowInnerInner1"},null,-1)),pe=["values"],xe={fill:"none","fill-rule":"evenodd"},be=["filter","d"],me=["stroke","d"],ge=["fill","d"],ve=["fill","d"],_e=["filter","d"],we={class:"relative h-full z-10 flex flex-col table-wrap text-white"},ye={key:0},$e={class:"flex-1 flex w-full h-[39px] items-center justify-between px-[5px]"},De={class:"table-bd-row flex-1 flex items-center justify-between"},Le={class:"flex-1 flex items-center justify-between"},ke={class:"flex-1 flex items-center justify-between"},Se={class:"flex-1 flex items-center justify-between"},Ie={class:"flex-1 flex items-center justify-between"},Ce=T({__name:"table",props:{title:{type:String},headerClass:{type:[String,Array,Object]},bodyClass:{type:[String,Array,Object]},tableData:{type:Array},tableLayout:{type:Array,default:[{width:136,padding:27},{width:116,padding:16},{width:128,padding:28}]},balanceData:{type:Object},balanceLabel:{tyep:Array,default:["总表用量","分表用量总和","水平衡值","流失率"]},highLightTableItem:{type:Object,default:{}},color:{type:String,required:!0},border:{type:Boolean,default:!0}},setup(t){const r=t,v=w(null),g=w(null),{width:b,height:m}=F(v,{width:0,height:0},{box:"border-box"}),{height:s}=F(g,{width:0,height:0},{box:"border-box"}),l=u=>[parseInt(u.slice(1,3),16),parseInt(u.slice(3,5),16),parseInt(u.slice(5),16)],S=A(()=>[`0 0 0 0 ${l(r.color)[0]/255} 0 0 0 0 ${l(r.color)[1]/255} 0 0 0 0 ${l(r.color)[2]/255} 0 0 0 0.4 0`,`0 0 0 0 ${l(r.color)[0]/255} 0 0 0 0 ${l(r.color)[1]/255} 0 0 0 0 ${l(r.color)[2]/255} 0 0 0 0 0`]),D=A(()=>(u,n)=>{const o=typeof n<"u"&&r.highLightTableItem[n];return{height:"100%",width:r.tableLayout[u].width+"px",paddingLeft:r.tableLayout[u].padding+"px",borderColor:r.border?`rgba(${l(r.color).join(",")}, 0.28)`:"transparent",color:o||"inherit",backgroundColor:o?`rgba(${l(r.highLightTableItem[n]).join(",")}, 0.21)`:"inherit",borderBottomColor:o?"transparent":`rgba(${l(r.color).join(",")}, 0.28)`}});return(u,n)=>(d(),p("div",{class:"relative table-container",ref_key:"domRef",ref:v},[(d(),p("svg",{class:"absolute top-0 left-0",width:a(b),height:a(m),xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[e("defs",null,[e("filter",{x:"-2.8%",y:"-9%",width:"105.6%",height:"118.1%",filterUnits:"objectBoundingBox",id:`filter_${t.color.slice(1)}`},[se,oe,ie,ne,e("feColorMatrix",{values:S.value[0],in:"shadowInnerInner1"},null,8,de)],8,ae),e("filter",{x:"-5.4%",y:"-26.6%",width:"110.8%",height:"153.2%",filterUnits:"objectBoundingBox",id:`filter_${t.color.slice(1)}_2`},[ce,he,ue,fe,e("feColorMatrix",{values:S.value[1],in:"shadowInnerInner1"},null,8,pe)],8,re)]),e("g",xe,[e("path",{fill:"#000",filter:`url(#filter_${t.color.slice(1)})`,d:`M0 0h${a(b)}v${a(m)}H0z`},null,8,be),e("path",{"stroke-opacity":".28",stroke:t.color,"stroke-width":"5",d:`M${a(b)-2.5} 2.5v${a(m)-5}H2.5V2.5z`,"stroke-linejoin":"square"},null,8,me),e("path",{fill:t.color,opacity:".96",d:`M0 0h${a(b)}v${a(s)}H0z`},null,8,ge),e("path",{"fill-opacity":".076",fill:t.color,d:`M0 ${a(s)}h${a(b)}v${a(m)-a(s)-5}H0z`},null,8,ve),e("path",{fill:"#000",filter:`url(#filter_${t.color.slice(1)}_2)`,d:`M0 ${a(s)}h${a(b)}v${a(m)-a(s)-5}H0z`},null,8,_e)])],8,le)),e("div",we,[e("div",{ref_key:"headerRef",ref:g,class:O([t.headerClass,"table-hd flex items-center min-h-[39px] text-base justify-center"])},[t.title?(d(),p("span",ye,h(t.title),1)):j(u.$slots,"head",{key:1},()=>[e("div",$e,[e("span",{class:"flex items-center",style:L(D.value(0))},"表名",4),e("span",{class:"flex items-center",style:L(D.value(1))},"上日用量",4),e("span",{class:"flex items-center",style:L(D.value(2))},"上月用量",4)])],!0)],2),e("div",{class:O(["table-bd flex-1 text-sm",t.bodyClass])},[j(u.$slots,"default",{},()=>[e("div",{class:O(["h-full flex flex-col justify-between pb-[5px]",[t.balanceData?"px-[22px]":"px-[5px]"]])},[t.tableData?(d(!0),p(H,{key:0},q(t.tableData,(o,k)=>(d(),p("div",De,[e("span",{class:"flex items-center",style:L(D.value(0,k))},h(o.name),5),e("span",{class:"flex items-center",style:L(D.value(1,k))},h(o.day)+"m³",5),e("span",{class:"flex items-center",style:L(D.value(2,k))},h(o.month)+"m³",5)]))),256)):t.balanceData?(d(),p(H,{key:1},[e("div",Le,[e("span",null,h(t.balanceLabel[0]),1),e("span",null,h(t.balanceData.primary)+"m³",1)]),e("div",ke,[e("span",null,h(t.balanceLabel[1]),1),e("span",null,h(t.balanceData.secondary)+"m³",1)]),e("div",Se,[e("span",null,h(t.balanceLabel[2]),1),e("span",null,h(t.balanceData.balance)+"m³",1)]),e("div",Ie,[e("span",null,h(t.balanceLabel[3]),1),e("span",null,h(t.balanceData.lossRate)+"%",1)])],64)):x("",!0)],2)],!0)],2)])],512))}});const f=B(Ce,[["__scopeId","data-v-f8893dc2"]]),Ve="/demo1/assets/waterpipe-11b57f51.png",Oe=["width","height"],Be=["transform"],Fe=["xlink:href"],je=["stroke","d"],Ae=T({__name:"water-pipe",props:{modelValue:{type:Boolean,default:!0},position:{type:[Boolean,Array],required:!0},color:{type:String,required:!0},type:{type:String,default:"line"},path:{type:String}},emits:["update:modelValue"],setup(t){const r=t,v=w(),{width:g,height:b}=F(v,{width:0,height:0},{box:"border-box"}),m=A(()=>r.path?r.path:r.type==="line"?`m0 ${b.value-2}h${g.value}`:"");return(s,l)=>(d(),p("svg",{ref_key:"domRef",ref:v,width:a(g),height:a(b),version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[typeof t.position!="boolean"?(d(),p("g",{key:0,transform:`translate(${t.position[0]}, ${+t.position[1]+9})`},[e("image",{class:"cursor-pointer transition-transform duration-500 water-pipe","xlink:href":a(Ve),x:"0",y:"0",height:"33",width:"51",style:L(`transform: ${t.modelValue?"rotate(0deg)":"rotate(-90deg)"}`),onClick:l[0]||(l[0]=S=>s.$emit("update:modelValue",!t.modelValue))},null,12,Fe)],8,Be)):x("",!0),e("path",{fill:"none",stroke:t.color,"stroke-width":"4",d:m.value},null,8,je)],8,Oe))}});const _=B(Ae,[["__scopeId","data-v-b946a91d"]]),V=t=>(R("data-v-96ac8fe1"),t=t(),M(),t),He={class:"index-box"},Te={class:"life"},Ee={class:"flex flex-col"},Re={class:"flex"},Me={class:"flex flex-col"},ze={class:"flex mb-[73px]"},Ge={key:0,class:"flex"},Ue={class:"flex pl-[110px]"},qe={key:0,class:"relative mb-[20px] mr-[223px]"},Ne={class:"flex flex-col items-center mr-[66px]"},Pe={key:0,class:"w-[312px] h-[108px] mb-[7px]"},Ze={key:1,class:"w-[313px] h-[305px] mb-[5px]"},We={key:2,class:"relative translate-x-[-20px]"},Ye={class:"flex flex-col"},Je={class:"flex mb-5"},Ke={class:"flex"},Qe=V(()=>e("div",{class:"flex items-center justify-between w-full px-[5px] py-[5px] leading-[21px]"},[e("span",{class:"flex-1 text-center"},"用量值"),e("span",{class:"flex-1 text-center"},[y("高区生活总"),e("br"),y("用水(上日)")]),e("span",{class:"flex-1 text-center"},[y("高区生活总"),e("br"),y("用水(上月)")])],-1)),Xe={key:0,class:"h-full flex flex-col justify-between px-[5px] text-base"},et={class:"flex-1 flex items-center justify-between"},tt=V(()=>e("span",{class:"flex-1 text-center"},"总表用量",-1)),lt={class:"flex-1 text-center"},at={class:"flex-1 text-center"},st={class:"flex-1 flex items-center justify-between"},ot=V(()=>e("span",{class:"flex-1 text-center"},[y("分表用量"),e("br"),y("总和")],-1)),it={class:"flex-1 text-center"},nt={class:"flex-1 text-center"},dt={class:"flex-1 flex items-center justify-between"},rt=V(()=>e("span",{class:"flex-1 text-center"},"水平衡值",-1)),ct={class:"flex-1 text-center"},ht={class:"flex-1 text-center"},ut={class:"flex-1 flex items-center justify-between"},ft=V(()=>e("span",{class:"flex-1 text-center"},"流失率",-1)),pt={class:"flex-1 text-center"},xt={class:"flex-1 text-center"},bt={class:"flex flex-col mr-[55px] mt-[-86px]"},mt={class:"flex mb-[8px]"},gt={class:"flex"},vt={class:"flex flex-col mt-[-207px]"},_t={key:0,class:"flex"},wt={class:"w-[312px] h-[401px] mr-[27px]"},yt={class:"absolute top-[670px] left-0"},$t={class:"flex"},Dt=T({__name:"index",setup(t){const r=Z(),v=w(0),g=w(0),b=w(),m=w(),s=w([!0,!0,!0,!0,!0,!0,!0]),l=N({life:{},fireFighting:{}}),S=({scrollLeft:u})=>{v.value=u};return P(()=>{g.value=m.value.scrollWidth-m.value.clientHeight}),z(window,"wheel",u=>{var k;if(!r.isScale||W.mac)return;const n=v.value+u.deltaY;let o=0;n<0?o=0:n>g.value?o=g.value:o=n,(k=b.value)==null||k.setScrollLeft(o)},{passive:!1}),(async()=>{const u=await Y("dynamicInit");console.log("水资源动态监测",u),u.success&&(l.life=u.data.life,l.fireFighting=u.data.fireFighting)})(),(u,n)=>(d(),p(H,null,[i(G,{title:"行政中心水资源动态监测"}),e("div",He,[i(a(J),{ref_key:"scrollbarRef",ref:b,onScroll:n[7]||(n[7]=o=>S(o)),always:""},{default:I(()=>[e("div",{ref_key:"wrapRef",ref:m,class:"relative container pt-5"},[e("div",Te,[e("div",Ee,[e("div",Re,[e("div",Me,[i(a(E),{class:"mb-[57px]"},{default:I(()=>[y("生活用水")]),_:1}),e("div",ze,[i(_,{class:"w-[102px] h-[60px] mr-2 mt-[14px] mb-[48px]",modelValue:s.value[0],"onUpdate:modelValue":n[0]||(n[0]=o=>s.value[0]=o),color:"#08ACFF",position:[46,0]},null,8,["modelValue"]),s.value[0]?(d(),p("div",Ge,[i(f,{color:a(c).blue,class:"w-[390px] h-[122px]",headerClass:"!text-lg",bodyClass:"!text-base",tableData:l.life.total,tableLayout:[{width:136,padding:27},{width:116,padding:16},{width:128,padding:28}]},null,8,["color","tableData"]),i(_,{class:"w-[165px] h-[60px] mx-4 mt-[35px]",modelValue:s.value[2],"onUpdate:modelValue":n[1]||(n[1]=o=>s.value[2]=o),color:"#08ACFF",position:[111,0]},null,8,["modelValue"])])):x("",!0)]),e("div",Ue,[i(f,{color:a(c).blue,class:"w-[280px] h-[199px] mr-[10px]",title:"行政中心生活总用水(上日)",headerClass:"!text-lg",bodyClass:"!text-base",balanceData:l.life.dayOfAC,balanceLabel:["一级总用量（上日）","二级总用量（上日）","日用水平衡值","流失率"]},null,8,["color","balanceData"]),i(f,{color:a(c).blue,class:"w-[280px] h-[199px]",title:"行政中心生活总用水(上月)",headerClass:"!text-lg",bodyClass:"!text-base",balanceData:l.life.monthOfAC,balanceLabel:["一级总用量（上月）","二级总用量（上月）","月用水平衡值","流失率"]},null,8,["color","balanceData"])])]),s.value[0]&&s.value[2]?(d(),p("div",qe,[i(f,{color:a(c).lightBlue,class:"w-[390px] h-[647px]",tableData:l.life.detail,tableLayout:[{width:129,padding:29},{width:123,padding:27},{width:128,padding:35}],highLightTableItem:{11:"#F2972A",12:"#1BDAD1",14:"#4DC399"}},null,8,["color","tableData"]),i(_,{class:"absolute left-full top-[-13px] w-[241px] h-[490.5px] ml-1",modelValue:s.value[3],"onUpdate:modelValue":n[2]||(n[2]=o=>s.value[3]=o),color:"#F2972A",path:"m0 488.5h130v-463h50",position:[188,0]},null,8,["modelValue"]),i(_,{class:"absolute left-full top-[116.5px] w-[241px] h-[405.5px] ml-1",modelValue:s.value[4],"onUpdate:modelValue":n[3]||(n[3]=o=>s.value[4]=o),color:"#1BDAD1",path:"m0 403.5h150v-378h30",position:[188,0]},null,8,["modelValue"]),i(_,{class:"absolute left-full top-[553px] w-[188px] h-[70px] ml-1",color:"#44D09E",path:"m0 68h100v-66h88",position:!1})])):x("",!0),e("div",Ne,[s.value[0]&&s.value[2]?(d(),p("div",Pe,[s.value[3]?(d(),C(f,{key:0,color:a(c).orange,class:"w-full h-full",tableData:l.life.buildingSix,tableLayout:[{width:91,padding:17},{width:103,padding:14},{width:108,padding:25}]},null,8,["color","tableData"])):x("",!0)])):x("",!0),s.value[0]&&s.value[2]?(d(),p("div",Ze,[s.value[4]?(d(),C(f,{key:0,color:a(c).ching,class:"w-full h-full mb-[5px]",tableData:l.life.buildingSeven,tableLayout:[{width:125,padding:17,align:"center"},{width:88,padding:11},{width:90,padding:11}]},null,8,["color","tableData"])):x("",!0)])):x("",!0),s.value[0]&&s.value[2]?(d(),p("div",We,[i(f,{color:a(c).green,class:"w-[373px] h-[149px] mb-[6px]",tableData:l.life.highLifeTotal,tableLayout:[{width:130,padding:14,align:"center"},{width:130,padding:21},{width:103,padding:14}],highLightTableItem:{0:"#36FFC0",1:"#FFE450",2:"#1FD1FF"},border:!1},null,8,["color","tableData"]),i(_,{class:"absolute left-full top-[27.5px] w-[165px] h-[51px] ml-1",modelValue:s.value[5],"onUpdate:modelValue":n[4]||(n[4]=o=>s.value[5]=o),color:"#10D9AA",path:"m0 25.5h102",position:[108,0]},null,8,["modelValue"]),i(_,{class:"absolute left-full top-[88px] w-[490px] h-[407.5px] ml-1",modelValue:s.value[6],"onUpdate:modelValue":n[5]||(n[5]=o=>s.value[6]=o),color:"#21CDDE",path:"m0 2h146v381h287",position:[439,356.5]},null,8,["modelValue"])])):x("",!0)]),e("div",Ye,[e("div",Je,[i(f,{color:a(c).orange,class:"w-[280px] h-[190px] mr-2",title:"6#生活用水(上日)",balanceData:l.life.dayOfBuildingSix},null,8,["color","balanceData"]),i(f,{color:a(c).orange,class:"w-[280px] h-[190px]",title:"6#生活用水(上月)",balanceData:l.life.monthOfBuildingSix},null,8,["color","balanceData"])]),e("div",Ke,[i(f,{color:a(c).ching,class:"w-[280px] h-[190px] mr-2",title:"7#生活用水(上日)",balanceData:l.life.dayOfBuildingSeven},null,8,["color","balanceData"]),i(f,{color:a(c).ching,class:"w-[280px] h-[190px]",title:"7#生活用水(上月)",balanceData:l.life.monthOfBuildingSeven},null,8,["color","balanceData"])])])]),e("div",{class:O(["flex ml-[695px]",{"mt-[186px]":!(s.value[0]&&s.value[2])}])},[i(f,{color:a(c).lightGreen,class:"w-[390px] h-[259px] shrink-0 mr-[129px]"},{head:I(()=>[Qe]),default:I(()=>[l.life.dayOfHighLifeTotal&&l.life.monthOfHighLifeTotal?(d(),p("div",Xe,[e("div",et,[tt,e("span",lt,h(l.life.dayOfHighLifeTotal.primary)+"m³",1),e("span",at,h(l.life.monthOfHighLifeTotal.primary)+"m³",1)]),e("div",st,[ot,e("span",it,h(l.life.dayOfHighLifeTotal.secondary)+"m³",1),e("span",nt,h(l.life.monthOfHighLifeTotal.secondary)+"m³",1)]),e("div",dt,[rt,e("span",ct,h(l.life.dayOfHighLifeTotal.balance)+"m³",1),e("span",ht,h(l.life.monthOfHighLifeTotal.balance)+"m³",1)]),e("div",ut,[ft,e("span",pt,h(l.life.dayOfHighLifeTotal.lossRate)+"%",1),e("span",xt,h(l.life.monthOfHighLifeTotal.lossRate)+"%",1)])])):x("",!0)]),_:1},8,["color"]),e("div",bt,[e("div",mt,[i(f,{color:a(c).lightGreen,class:"w-[280px] h-[175px] mr-[8px]",title:"1#高区生活用水(上日)",balanceData:l.life.dayOfHighLife1},null,8,["color","balanceData"]),i(f,{color:a(c).yellow,class:"w-[280px] h-[175px]",title:"2#高区生活用水(上日)",balanceData:l.life.dayOfHighLife2},null,8,["color","balanceData"])]),e("div",gt,[i(f,{color:a(c).lightGreen,class:"w-[280px] h-[175px] mr-[8px]",title:"1#高区生活用水(上月)",balanceData:l.life.monthOfHighLife1},null,8,["color","balanceData"]),i(f,{color:a(c).yellow,class:"w-[280px] h-[175px]",title:"2#高区生活用水(上月)",balanceData:l.life.monthOfHighLife2},null,8,["color","balanceData"])])]),e("div",vt,[s.value[0]&&s.value[2]?(d(),p("div",_t,[e("div",wt,[s.value[5]?(d(),C(f,{key:0,color:a(c).lightGreen,class:"w-full h-full",tableData:l.life.highLife1,tableLayout:[{width:110,padding:17,align:"center"},{width:97,padding:13},{width:95,padding:17}]},null,8,["color","tableData"])):x("",!0)]),s.value[6]?(d(),C(f,{key:0,color:a(c).yellow,class:"w-[312px] h-[468px]",tableData:l.life.highLife2,tableLayout:[{width:110,padding:17,align:"center"},{width:94,padding:11},{width:98,padding:22}]},null,8,["color","tableData"])):x("",!0)])):x("",!0)])],2)])]),e("div",yt,[i(a(E),{class:"mb-[68px]"},{default:I(()=>[y("消防用水")]),_:1}),e("div",$t,[i(_,{class:"w-[102px] h-[60px] mr-2 mt-[-9px]",modelValue:s.value[1],"onUpdate:modelValue":n[6]||(n[6]=o=>s.value[1]=o),color:"#08ACFF",position:[46,0]},null,8,["modelValue"]),s.value[1]?(d(),C(f,{key:0,color:a(c).blue,class:"w-[390px] h-[117px]",headerClass:"!text-lg",bodyClass:"!text-base",tableData:l.fireFighting.total,tableLayout:[{width:137,padding:27},{width:120,padding:16},{width:123,padding:28}]},null,8,["color","tableData"])):x("",!0)])])],512)]),_:1},512)])],64))}});const Ot=B(Dt,[["__scopeId","data-v-96ac8fe1"]]);export{Ot as default};
