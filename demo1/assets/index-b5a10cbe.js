import{H as E}from"./index-a8302ef5.js";import{B as y}from"./border-box-ae31d4a4.js";import{u as A,E as T,a as $,_ as W}from"./useTableScroll-4bd581d6.js";import{c as u,a as v,t as L,_ as D}from"./plugin-vueexport-helper-ccdc75ac.js";import{u as x}from"./usePolling-a3e01bdf.js";import{j as h,r as m,D as F,Q as g,k as p,R as _,a8 as k,l as C,I as r,S as n,m as d,y as S,x as w,A as z,p as f,h as N,a0 as B}from"./index-ce16a8ef.js";import"./el-scrollbar-03774a92.js";import"./dayjs.min-6639ab57.js";import"./plugin-vue_export-helper-fdba9279.js";import"./focus-trap-60618990.js";const O=h({__name:"top-left",setup(b){const a=m({}),e=F({hour:[],buildingThree:[],buildingFour:[],buildingFive:[],buildingSix:[],buildingEight:[],equipment:[]}),c=()=>{u("flowTopLeft").then(t=>{console.log("3/4/5/6/8号楼/设备房用水监测",t),t.success&&(Object.keys(e).forEach(o=>{o!=="totalNum"&&(e[o]=t.data[o])}),i())})};x(()=>{c()});const i=()=>{a.value={color:["#1853F5","#F2972A","#2CD4FF","#2FE7AD","#FF6269","#793EE2"],grid:{top:37,left:48,right:38,bottom:40},legend:{top:12,right:24,icon:"circle",itemGap:26,textStyle:{color:"#fff",fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"#32FEFE",type:"dashed",opacity:.4}},backgroundColor:"rgba(1, 5, 34, 0.82)",borderColor:"rgba(44, 212, 255, 0.44)",formatter:function(t){if(Array.isArray(t)){const o=t[0];let l=`<span style="color: #2CD4FF">${+o.name<10?"0":""}${o.name}:00</span><br>`;return t.forEach(s=>{l+=`<div class="flex items-center justify-between" style="width: 153px"><div style="width: 54px"><span style="width: 12px; height: 12px; display: inline-block; border-radius: 6px; background-color:${s.color}; margin-right: 8px"></span>${s.seriesName}：</div><span>${s.data}m³</span></div>`}),l}return""},textStyle:{color:"#FFF"}},xAxis:{type:"category",name:"时间",nameTextStyle:{color:"#fff",align:"center",verticalAlign:"top",padding:[8,0,0,0]},data:e.hour,axisLabel:{color:"#fff"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.32)"}}},yAxis:{type:"value",name:"m³",splitNumber:3,max:t=>t.max*1.2,nameTextStyle:{color:"#fff",align:"right",padding:[0,10,-20,0]},axisLabel:{color:"#fff",showMaxLabel:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.32)"}},splitLine:{show:!1}},series:[{name:"3号楼",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingThree},{name:"4号楼",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingFour},{name:"5号楼",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingFive},{name:"6号楼",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingSix},{name:"8号楼",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingEight},{name:"设备房",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.equipment}]}};return(t,o)=>{const l=g("v-chart");return p(),_(l,{class:"chart",option:a.value,autoresize:""},null,8,["option"])}}}),j=h({__name:"top-right",setup(b){const a=m({}),e=F({hour:[],fifthFloor:[],sixthFloor:[],seventhFloor:[],eighthFloor:[],ninthFloor:[],tenthFloor:[],eleventhFloor:[],twelveFloors:[]}),c=()=>{u("flowTopRight").then(t=>{console.log("1号楼5-12F用水监测",t),t.success&&(Object.keys(e).forEach(o=>{o!=="totalNum"&&(e[o]=t.data[o])}),i())})};x(()=>{c()});const i=()=>{a.value={color:["#1853F5","#F2972A","#2CD4FF","#2FE7AD","#FF6269","#FFE555","#793EE2","#1DD70F"],grid:{top:37,left:48,right:38,bottom:40},legend:{top:12,right:24,itemGap:28,icon:"circle",textStyle:{color:"#fff",fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"#32FEFE",type:"dashed",opacity:.4}},backgroundColor:"rgba(1, 5, 34, 0.82)",borderColor:"rgba(44, 212, 255, 0.44)",formatter:function(t){if(Array.isArray(t)){const o=t[0];let l=`<span style="color: #2CD4FF">${+o.name<10?"0":""}${o.name}:00</span><br>`;return t.forEach(s=>{l+=`<div class="flex items-center justify-between" style="width: 155px"><div style="width: 54px; font-size: 12px"><span style="width: 12px; height: 12px; display: inline-block; border-radius: 6px; background-color:${s.color}; margin-right: 8px"></span>1号楼${s.seriesName}：</div><span style="font-size: 14px">${s.data}m³</span></div>`}),l}return""},textStyle:{color:"#FFF"}},xAxis:{type:"category",name:"时间",nameTextStyle:{color:"#fff",align:"center",verticalAlign:"top",padding:[8,0,0,0]},data:e.hour,axisLabel:{color:"#fff"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.32)"}}},yAxis:{type:"value",name:"m³",splitNumber:3,max:t=>t.max*1.2,nameTextStyle:{color:"#fff",align:"right",padding:[0,10,-20,0]},axisLabel:{color:"#fff",showMaxLabel:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.32)"}},splitLine:{show:!1}},series:[{name:"5F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.fifthFloor},{name:"6F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.sixthFloor},{name:"7F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.seventhFloor},{name:"8F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.eighthFloor},{name:"9F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.ninthFloor},{name:"10F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.tenthFloor},{name:"11F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.eleventhFloor},{name:"12F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.twelveFloors}]}};return(t,o)=>{const l=g("v-chart");return p(),_(l,{class:"chart",option:a.value,autoresize:""},null,8,["option"])}}}),V=h({__name:"center-left",setup(b){const a=m({}),e=F({hour:[],buildingOneSecondFloor:[],buildingOneThirdFloor:[],buildingOneFourthFloor:[],buildingTwoSecondFloor:[],buildingTwoThirdFloor:[],buildingTwoFourthFloor:[]}),c=()=>{u("flowCenterLeft").then(t=>{console.log("1号楼5-12F用水监测",t),t.success&&(Object.keys(e).forEach(o=>{o!=="totalNum"&&(e[o]=t.data[o])}),i())})};x(()=>{c()});const i=()=>{a.value={color:["#1853F5","#F2972A","#2CD4FF","#2FE7AD","#FFE555","#793EE2"],grid:{top:37,left:48,right:38,bottom:40},legend:{top:12,right:24,itemGap:18,icon:"circle",textStyle:{color:"#fff",fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"#32FEFE",type:"dashed",opacity:.4}},backgroundColor:"rgba(1, 5, 34, 0.82)",borderColor:"rgba(44, 212, 255, 0.44)",formatter:function(t){if(Array.isArray(t)){const o=t[0];let l=`<span style="color: #2CD4FF">${+o.name<10?"0":""}${o.name}:00</span><br>`;return t.forEach(s=>{l+=`<div class="flex items-center justify-between" style="width: 155px"><div style="width: 54px; font-size: 12px"><span style="width: 12px; height: 12px; display: inline-block; border-radius: 6px; background-color:${s.color}; margin-right: 8px"></span>${s.seriesName}：</div><span style="font-size: 14px">${s.data}m³</span></div>`}),l}return""},textStyle:{color:"#FFF"}},xAxis:{type:"category",name:"时间",nameTextStyle:{color:"#fff",align:"center",verticalAlign:"top",padding:[8,0,0,0]},data:e.hour,axisLabel:{color:"#fff"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.32)"}}},yAxis:{type:"value",name:"m³",splitNumber:3,max:t=>t.max*1.2,nameTextStyle:{color:"#fff",align:"right",padding:[0,10,-20,0]},axisLabel:{color:"#fff",showMaxLabel:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.32)"}},splitLine:{show:!1}},series:[{name:"1号楼2F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingOneSecondFloor},{name:"1号楼3F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingOneThirdFloor},{name:"1号楼4F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingOneFourthFloor},{name:"2号楼2F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingTwoSecondFloor},{name:"2号楼3F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingTwoThirdFloor},{name:"2号楼4F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.buildingTwoFourthFloor}]}};return(t,o)=>{const l=g("v-chart");return p(),_(l,{class:"chart",option:a.value,autoresize:""},null,8,["option"])}}}),G=h({__name:"center-right",setup(b){const a=m({}),e=F({hour:[],fifthFloor:[],sixthFloor:[],seventhFloor:[],eighthFloor:[],ninthFloor:[],tenthFloor:[],eleventhFloor:[],twelveFloors:[]}),c=()=>{u("flowCenterRight").then(t=>{console.log("2号楼5-12F用水监测",t),t.success&&(Object.keys(e).forEach(o=>{o!=="totalNum"&&(e[o]=t.data[o])}),i())})};x(()=>{c()});const i=()=>{a.value={color:["#1853F5","#F2972A","#2CD4FF","#2FE7AD","#FF6269","#FFE555","#793EE2","#1DD70F"],grid:{top:37,left:48,right:38,bottom:40},legend:{top:12,right:24,itemGap:28,icon:"circle",textStyle:{color:"#fff",fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"#32FEFE",type:"dashed",opacity:.4}},backgroundColor:"rgba(1, 5, 34, 0.82)",borderColor:"rgba(44, 212, 255, 0.44)",formatter:function(t){if(Array.isArray(t)){const o=t[0];let l=`<span style="color: #2CD4FF">${+o.name<10?"0":""}${o.name}:00</span><br>`;return t.forEach(s=>{l+=`<div class="flex items-center justify-between" style="width: 155px"><div style="width: 54px; font-size: 12px"><span style="width: 12px; height: 12px; display: inline-block; border-radius: 6px; background-color:${s.color}; margin-right: 8px"></span>2号楼${s.seriesName}：</div><span style="font-size: 14px">${s.data}m³</span></div>`}),l}return""},textStyle:{color:"#FFF"}},xAxis:{type:"category",name:"时间",nameTextStyle:{color:"#fff",align:"center",verticalAlign:"top",padding:[8,0,0,0]},data:e.hour,axisLabel:{color:"#fff"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.32)"}}},yAxis:{type:"value",name:"m³",splitNumber:3,max:t=>t.max*1.2,nameTextStyle:{color:"#fff",align:"right",padding:[0,10,-20,0]},axisLabel:{color:"#fff",showMaxLabel:!1},axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.32)"}},splitLine:{show:!1}},series:[{name:"5F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.fifthFloor},{name:"6F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.sixthFloor},{name:"7F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.seventhFloor},{name:"8F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.eighthFloor},{name:"9F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.ninthFloor},{name:"10F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.tenthFloor},{name:"11F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.eleventhFloor},{name:"12F",type:"line",symbol:"circle",showSymbol:!1,emphasis:{itemStyle:{borderColor:"#fff",borderWidth:1}},data:e.twelveFloors}]}};return(t,o)=>{const l=g("v-chart");return p(),_(l,{class:"chart",option:a.value,autoresize:""},null,8,["option"])}}}),M={class:"py-4 pl-[26px] pr-[31px] h-full"},P=d("span",{class:"pl-[42px]"}," 序号 ",-1),R={class:"pl-[42px]"},q=h({__name:"bottom",setup(b){const a=m(null),e=m([]);A(a);const c=v();return k(async()=>{const i=await u("flowBottom",{type:c.alarmFilterBy});console.log("告警记录",i),i.success&&(e.value=i.data.list)}),(i,t)=>{const o=$;return p(),C("div",M,[r(f(T),{class:"alarm-table",ref_key:"table",ref:a,data:e.value,stripe:"",style:{width:"100%"},height:"100%","scrollbar-always-on":"","header-row-class-name":"alarm-table_header"},{default:n(()=>[r(o,{width:"158"},{header:n(()=>[P]),default:n(({$index:l})=>[d("span",R,S(l+1),1)]),_:1}),r(o,{prop:"time",label:"时间",width:"318"}),r(o,{prop:"content",label:"告警内容","show-overflow-tooltip":""}),r(o,{label:"操作",width:"257"},{default:n(({row:l})=>[w(S(l.operation||"--"),1)]),_:1}),r(o,{prop:"result",label:"结果",width:"250"}),r(o,{label:"避免流失m³",width:"246"},{default:n(({row:l})=>[w(S(l.avoidLoss||"/"),1)]),_:1}),r(o,{prop:"status",label:"状态",width:"186"},{default:n(({row:l})=>[d("span",{style:z([{display:"block",width:"22px",height:"22px","border-radius":"11px"},{backgroundColor:l.status===0?"#FB4546":"#16DB9A"}])},null,4)]),_:1})]),_:1},8,["data"])])}}}),H={class:"index-box"},I={class:"content_top"},Q={class:"content_center"},U={class:"content_bottom"},J={class:"flex items-center pr-[32px]"},K=h({__name:"index",setup(b){const a=v(),e=N({get:()=>a.alarmFilterBy,set:i=>{a.setState("alarmFilterBy",i)}}),c=()=>{a.exportFlowAlarm()};return(i,t)=>(p(),C(B,null,[r(E,{title:"行政中心水流量监测"}),d("div",H,[d("div",I,[r(f(y),{class:"content_top-left content_chart-item flex-1 flex-shrink-0",title:"3/4/5/6/8号楼/设备房用水监测"},{default:n(()=>[r(O)]),_:1}),r(f(y),{class:"content_chart-item flex-1",title:"1号楼5-12F用水监测"},{default:n(()=>[r(j)]),_:1})]),d("div",Q,[r(f(y),{class:"content_center-left content_chart-item flex-1 flex-shrink-0",title:"1/2号楼2-4F用水监测"},{default:n(()=>[r(V)]),_:1}),r(f(y),{class:"content_center-right content_chart-item flex-1",title:"2号楼5-12F用水监测"},{default:n(()=>[r(G)]),_:1})]),d("div",U,[r(f(y),{class:"content_bottom-item flex-1",title:"告警记录"},{control:n(()=>[d("div",J,[r(f(W),{class:"mr-6",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value=o),list:f(L)},null,8,["modelValue","list"]),d("button",{class:"flex items-center justify-center w-[87px] h-[32px] bg-primary text-[#0A2D4C] text-sm",onClick:c},"记录导出")])]),default:n(()=>[r(q)]),_:1})])])],64))}});const se=D(K,[["__scopeId","data-v-725cc682"]]);export{se as default};
